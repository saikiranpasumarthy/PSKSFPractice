<template>
    <lightning-card icon-name="custom:custom63" title="ApexImperativeMethodWithParams">
       <div class="slds-var-m-around_medium">
        <lightning-layout 
            class="slds-var-m-bottom_small" 
            vertical-align="end"
        >
          <lightning-layout-item flexibility="grow">
            <lightning-input 
              type="search"
              label="Search"
              value={searchKey}
              onchange={handleKeyChange}
            ></lightning-input>            
          </lightning-layout-item>
          <lightning-layout-item class="slds-var-p-left_xx-small">
            <lightning-button 
              label="Search" 
              onclick={handleSearch} 
            ></lightning-button>            
          </lightning-layout-item>
        </lightning-layout>
        <template lwc:if={contacts}>
            <template for:each={contacts} for:item="contact">
                <p key={contact.Id}>{contact.Name} {contact.Title}</p>
            </template>
        </template>
        <template lwc:elseif={error}>
            <c-error-panel errors={error}></c-error-panel>
        </template>
       </div>
    </lightning-card>
</template>